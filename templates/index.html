<html>
	<title>Elastic network</title>
	<head></head>
    <style>
      #cy {
        width: 100%;
        height: 100%;
        left: 30;
        top: 30;
        z-index: 999;
      };
      #statistics {
        float: left;
      };
    </style>
    <script type="text/javascript" src="static/js/jquery.min.js"></script>
	<script type="text/javascript" src="static/js/script/cytoscape.min.js"></script>
	<script type="text/javascript" src="static/js/underscore/underscore-min.js"></script>
    <script type="text/javascript" src="static/js/graph.js"></script>
    <body>
        <div id="menu">
            <a href="javascript:" onclick="return generateGraph()">Generate contacts tree</a><br>
            <a href="/">Simulation without profile spreading</a><br>
            <a href="/tree">Contacts</a><br>
            <a href="javascript:" onclick="return onClick()">Save graph as </a>
            <input id="graph_name" type='text' /><br>
            
            <!-- List of all available graphs -->
            {% if graphs %}
                <strong>You have the following graphs:</strong><br>
                {% for graph in graphs %}
                    <li><a href="javascript:" onclick="return loadGraph('{{graph|safe}}')">{{ graph }}</a></li>
                {% endfor %}
            {% endif %}            

        </div>
    	<div id="main_layout">
    		<div id="cy"></div>
    	</div>
        <div id="statistics">
        </div>
    </body>
    <script type="text/javascript">
        var onClick = function() {
            var data = {
                name: $(graph_name)[0].value,
                graph: this.graph
            };
            $.ajax("/save", {
                type: 'POST',
                data: JSON.stringify(data),
                success: function() {
                    console.log('Done');
                },
                contentType: 'application/json'
            });
        };
    </script>
</html>